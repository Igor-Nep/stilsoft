{"name": "Получение списка модулей", "status": "broken", "statusDetails": {"message": "KeyError: 'access_token'", "trace": "self = <test_murom_allure.MuromTest object at 0x000002D56E459A60>\n\n    @allure.severity('minor')\n    @allure.feature('api тесты')\n    @allure.story('Тест модулей')\n    @allure.title('Получение списка модулей')\n    def test_module_list(self):\n        warnings.filterwarnings('ignore')\n        with allure.step('Получить список модулей из system/module'):\n            logger.info('Logged INFO сообщение:')\n>           resp = requests.get(self.base_url+'/api/data/system/module', headers=self.api.get_token(), verify=False)\n\nstilsoft\\test_murom_allure.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <ApiRes.ApiRes object at 0x000002D56E57B9B0>\n\n    def get_token(self) -> dict: #возвращение токена с ключом\n        \"\"\" отправляет в auth/login логин и пароль admin adm777, возвращает токен в формате ключ 'Authorization' и значением 'Bearer <тело токена>' \"\"\"\n        creds = {\n            'login': 'admin',\n            'password': 'adm777'\n            }\n        resp = requests.post(self.url+'/api/auth/login', json=creds, verify=False)\n>       bearer = (f'Bearer {resp.json()[\"access_token\"]}')\nE       KeyError: 'access_token'\n\nstilsoft\\ApiRes.py:73: KeyError"}, "steps": [{"name": "Получить список модулей из system/module", "status": "broken", "statusDetails": {"message": "KeyError: 'access_token'\n", "trace": "  File \"C:\\work\\WHPython\\stilsoft\\test_murom_allure.py\", line 40, in test_module_list\n    resp = requests.get(self.base_url+'/api/data/system/module', headers=self.api.get_token(), verify=False)\n                                                                         ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\work\\WHPython\\stilsoft\\ApiRes.py\", line 73, in get_token\n    bearer = (f'Bearer {resp.json()[\"access_token\"]}')\n                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n"}, "start": 1728299239232, "stop": 1728299239321}], "attachments": [{"name": "log", "source": "8298819e-0ee9-4889-ad65-67d5dab68a96-attachment.txt", "type": "text/plain"}], "start": 1728299239232, "stop": 1728299239331, "uuid": "bc0a4e97-65ee-4846-90f6-d6ee5d3ee189", "historyId": "d092cae2a5b3986c53d2f13764b7c5dc", "testCaseId": "d092cae2a5b3986c53d2f13764b7c5dc", "fullName": "stilsoft.test_murom_allure.MuromTest#test_module_list", "labels": [{"name": "story", "value": "Тест модулей"}, {"name": "epic", "value": "MUROM"}, {"name": "feature", "value": "api тесты"}, {"name": "severity", "value": "minor"}, {"name": "parentSuite", "value": "stilsoft"}, {"name": "suite", "value": "test_murom_allure"}, {"name": "subSuite", "value": "MuromTest"}, {"name": "host", "value": "1-otspo-60"}, {"name": "thread", "value": "40460-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "stilsoft.test_murom_allure"}]}